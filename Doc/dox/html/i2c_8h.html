<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Robot BOB: /home/joshua/Desktop/Stuff/github/repos/Robotbob/i2c.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<h1>/home/joshua/Desktop/Stuff/github/repos/Robotbob/i2c.h File Reference</h1>  </div>
</div>
<div class="contents">
<code>#include &quot;<a class="el" href="global_8h_source.html">global.h</a>&quot;</code><br/>

<p><a href="i2c_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#afd63d23830ad86d01b6fff2e6c615f7e">MAX_TRIES</a>&nbsp;&nbsp;&nbsp;50</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a3b12a0369906d5264bd6e7ea596f6d29">TWI_START</a>&nbsp;&nbsp;&nbsp;0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#aaad9f06d6da950b43cc158cf2d28c92d">TWI_DATA</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#abc6fae092860c77838a2a320fbfcc512">TWI_STOP</a>&nbsp;&nbsp;&nbsp;2</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#af37269da7f6b1b22438b78d2f965f274">twi_start</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Starts the TWI/I2C interface with the correct clock speed.  <a href="#af37269da7f6b1b22438b78d2f965f274"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned char&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#ae1c7c7c4539232c460ebc29a6b732528">twi_tran</a> (unsigned char type)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">What action should be taken, simply used to clean code up a tad bit.  <a href="#ae1c7c7c4539232c460ebc29a6b732528"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#ac2c85c5a5daf0037f3b9c2208e432fac">twi_mcp_dac</a> (unsigned int twi_address, uint16_t data, _Bool type)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">TWI code for writing DAC data to the MCP4725 I2C DAC first to write to the dac only we must specify this in the POD byte for DAC only we send 0x40 which is 0b01000000 because we don't want any of the Power Down stuff and we only want DAC which means C2, C1, C0, should be 0, 1, 0 respectably. for writing to the DAC and the EEPROM they would be 0, 1, 1 and the last byte on the address should be 1.  <a href="#ac2c85c5a5daf0037f3b9c2208e432fac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a38d3e6f4136dddde09d47dc8b12d7d3b">twi_mcp_read</a> (unsigned int twi_address)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads the data from the EEPROM of the DAC.  <a href="#a38d3e6f4136dddde09d47dc8b12d7d3b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="i2c_8h.html#a404cc805020f4983a303cd8c1e716fff">mcp_data</a> [2]</td></tr>
</table>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="afd63d23830ad86d01b6fff2e6c615f7e"></a><!-- doxytag: member="i2c.h::MAX_TRIES" ref="afd63d23830ad86d01b6fff2e6c615f7e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_TRIES&nbsp;&nbsp;&nbsp;50</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aaad9f06d6da950b43cc158cf2d28c92d"></a><!-- doxytag: member="i2c.h::TWI_DATA" ref="aaad9f06d6da950b43cc158cf2d28c92d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWI_DATA&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a3b12a0369906d5264bd6e7ea596f6d29"></a><!-- doxytag: member="i2c.h::TWI_START" ref="a3b12a0369906d5264bd6e7ea596f6d29" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWI_START&nbsp;&nbsp;&nbsp;0</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="abc6fae092860c77838a2a320fbfcc512"></a><!-- doxytag: member="i2c.h::TWI_STOP" ref="abc6fae092860c77838a2a320fbfcc512" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TWI_STOP&nbsp;&nbsp;&nbsp;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ac2c85c5a5daf0037f3b9c2208e432fac"></a><!-- doxytag: member="i2c.h::twi_mcp_dac" ref="ac2c85c5a5daf0037f3b9c2208e432fac" args="(unsigned int twi_address, uint16_t data, _Bool type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int twi_mcp_dac </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>twi_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_Bool&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>TWI code for writing DAC data to the MCP4725 I2C DAC first to write to the dac only we must specify this in the POD byte for DAC only we send 0x40 which is 0b01000000 because we don't want any of the Power Down stuff and we only want DAC which means C2, C1, C0, should be 0, 1, 0 respectably. for writing to the DAC and the EEPROM they would be 0, 1, 1 and the last byte on the address should be 1. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>twi_address</em>&nbsp;</td><td>unsigned int - The address of the I2C/TWI part we are talking to, in this case, the MCP4725 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>uint16_t - The 10bit long DAC data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>_Bool - Whether or not the data should also be written to the EEPROM </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>int - Good to go or not sort of thing. </dd></dl>

</div>
</div>
<a class="anchor" id="a38d3e6f4136dddde09d47dc8b12d7d3b"></a><!-- doxytag: member="i2c.h::twi_mcp_read" ref="a38d3e6f4136dddde09d47dc8b12d7d3b" args="(unsigned int twi_address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t twi_mcp_read </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>twi_address</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads the data from the EEPROM of the DAC. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>twi_address</em>&nbsp;</td><td>unsigned int - Address of the DAC </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>uint16_t - The data which is in the EEPROM (see datasheet) </dd></dl>

</div>
</div>
<a class="anchor" id="af37269da7f6b1b22438b78d2f965f274"></a><!-- doxytag: member="i2c.h::twi_start" ref="af37269da7f6b1b22438b78d2f965f274" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void twi_start </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Starts the TWI/I2C interface with the correct clock speed. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>void</em>&nbsp;</td><td>- Takes nothing </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>void - Returns nothing </dd></dl>

</div>
</div>
<a class="anchor" id="ae1c7c7c4539232c460ebc29a6b732528"></a><!-- doxytag: member="i2c.h::twi_tran" ref="ae1c7c7c4539232c460ebc29a6b732528" args="(unsigned char type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char twi_tran </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>type</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>What action should be taken, simply used to clean code up a tad bit. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>unsigned char - What action should be taken, should the start condition be sent, the stop condition, or the data register </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>unsigned char - Returns the TWI/I2C status register </dd></dl>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a404cc805020f4983a303cd8c1e716fff"></a><!-- doxytag: member="i2c.h::mcp_data" ref="a404cc805020f4983a303cd8c1e716fff" args="[2]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t <a class="el" href="i2c_8h.html#a404cc805020f4983a303cd8c1e716fff">mcp_data</a>[2]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Sun Dec 12 2010 11:16:34 for Robot BOB by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
